<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="w-full lg:w-2/5 mx-auto m-5">
    <mat-form-field class="full-width" appearance="outline">
        <mat-label>Phone Number</mat-label>
        <button type="button" matSuffix mat-button color="primary" class="suffix-button" (click)="sendOTP()" [disabled]="validation['mobile_no'].invalid || isOTPSentLoading || isOTPSent">
            <mat-icon>phone_android</mat-icon>
            Send OTP
        </button>
        <input matInput autofocus formControlName="mobile_no">
    </mat-form-field>
    <mat-form-field *ngIf="isOTPSent" class="full-width" appearance="outline">
        <mat-label>OTP</mat-label>
        <button type="button" matSuffix mat-button color="primary" class="suffix-button" disabled>
            <mat-icon>perm_phone_msg</mat-icon>
            Resend OTP
        </button>
        <input matInput type="text" formControlName="otp">
    </mat-form-field>
    <mat-form-field *ngIf="isOTPSent" class="full-width" appearance="outline">
        <mat-label>Password</mat-label>
        <mat-icon matSuffix>vpn_key</mat-icon>
        <input matInput type="password" formControlName="password">
    </mat-form-field>
    <mat-form-field *ngIf="isOTPSent" class="full-width" appearance="outline">
        <mat-label>Recomendation Code</mat-label>
        <mat-icon matSuffix>card_membership</mat-icon>
        <input matInput type="text" formControlName="refer_by">
    </mat-form-field>
    
    <button type="submit" class="w-25 me-2 text-center" color="primary" [disabled]="registerForm.invalid || isLoading" mat-raised-button>
        <div *ngIf="isLoading">Loading ...</div>
        <div *ngIf="!isLoading">REGISTER</div>
    </button>
    <button type="button" color="primary" [routerLink]="[ '/auth/login' ]" mat-button>LOGIN</button>

</form>